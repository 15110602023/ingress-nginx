<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><link href=https://kubernetes.github.io/ingress-nginx/e2e-tests/ rel=canonical><link rel="shortcut icon" href=../assets/images/favicon.png><meta name=generator content="mkdocs-1.1.2, mkdocs-material-6.2.4"><title>E2e tests - NGINX Ingress Controller</title><link rel=stylesheet href=../assets/stylesheets/main.15aa0b43.min.css><link rel=stylesheet href=../assets/stylesheets/palette.75751829.min.css><meta name=theme-color content=#009485><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback"><style>body,input{font-family:"Roboto",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono",SFMono-Regular,Consolas,Menlo,monospace}</style><link rel=stylesheet href=../extra.css><script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-118407822-1","kubernetes.github.io"),ga("set","anonymizeIp",!0),ga("send","pageview"),document.addEventListener("DOMContentLoaded",function(){document.forms.search&&document.forms.search.query.addEventListener("blur",function(){if(this.value){var e=document.location.pathname;ga("send","pageview",e+"?q="+this.value)}})}),document.addEventListener("DOMContentSwitch",function(){ga("send","pageview",document.location.pathname)})</script><script async src=https://www.google-analytics.com/analytics.js></script></head> <body dir=ltr data-md-color-scheme data-md-color-primary=teal data-md-color-accent=green> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#e2e-test-suite-for-ingress-nginx-controller class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <header class=md-header data-md-component=header> <nav class="md-header-nav md-grid" aria-label=Header> <a href=https://kubernetes.github.io/ingress-nginx title="NGINX Ingress Controller" class="md-header-nav__button md-logo" aria-label="NGINX Ingress Controller"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg> </a> <label class="md-header-nav__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg> </label> <div class=md-header-nav__title data-md-component=header-title> <div class=md-header-nav__ellipsis> <div class=md-header-nav__topic> <span class=md-ellipsis> NGINX Ingress Controller </span> </div> <div class=md-header-nav__topic> <span class=md-ellipsis> E2e tests </span> </div> </div> </div> <label class="md-header-nav__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query data-md-state=active required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </label> <button type=reset class="md-search__icon md-icon" aria-label=Clear data-md-component=search-reset tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg> </button> </form> <div class=md-search__output> <div class=md-search__scrollwrap data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list></ol> </div> </div> </div> </div> </div> <div class=md-header-nav__source> <a href=https://github.com/kubernetes/ingress-nginx/ title="Go to repository" class=md-source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg> </div> <div class=md-source__repository> kubernetes/ingress-nginx </div> </a> </div> </nav> </header> <div class=md-container data-md-component=container> <nav class=md-tabs aria-label=Tabs data-md-component=tabs> <div class="md-tabs__inner md-grid"> <ul class=md-tabs__list> <li class=md-tabs__item> <a href=.. class=md-tabs__link> Welcome </a> </li> <li class=md-tabs__item> <a href=../deploy/ class=md-tabs__link> Deployment </a> </li> <li class=md-tabs__item> <a href=../user-guide/nginx-configuration/ class=md-tabs__link> User guide </a> </li> <li class=md-tabs__item> <a href=../examples/ class=md-tabs__link> Examples </a> </li> <li class=md-tabs__item> <a href=../developer-guide/getting-started/ class=md-tabs__link> Developer Guide </a> </li> </ul> </div> </nav> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary md-nav--lifted" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=https://kubernetes.github.io/ingress-nginx title="NGINX Ingress Controller" class="md-nav__button md-logo" aria-label="NGINX Ingress Controller"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg> </a> NGINX Ingress Controller </label> <div class=md-nav__source> <a href=https://github.com/kubernetes/ingress-nginx/ title="Go to repository" class=md-source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg> </div> <div class=md-source__repository> kubernetes/ingress-nginx </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-1 type=checkbox id=nav-1> <label class=md-nav__link for=nav-1> Welcome <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Welcome data-md-level=1> <label class=md-nav__title for=nav-1> <span class="md-nav__icon md-icon"></span> Welcome </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=.. class=md-nav__link> Welcome </a> </li> <li class=md-nav__item> <a href=../how-it-works/ class=md-nav__link> How it works </a> </li> <li class=md-nav__item> <a href=../troubleshooting/ class=md-nav__link> Troubleshooting </a> </li> <li class=md-nav__item> <a href=../kubectl-plugin/ class=md-nav__link> kubectl plugin </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-2 type=checkbox id=nav-2> <label class=md-nav__link for=nav-2> Deployment <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Deployment data-md-level=1> <label class=md-nav__title for=nav-2> <span class="md-nav__icon md-icon"></span> Deployment </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../deploy/ class=md-nav__link> Installation Guide </a> </li> <li class=md-nav__item> <a href=../deploy/baremetal/ class=md-nav__link> Bare-metal considerations </a> </li> <li class=md-nav__item> <a href=../deploy/rbac/ class=md-nav__link> Role Based Access Control (RBAC) </a> </li> <li class=md-nav__item> <a href=../deploy/upgrade/ class=md-nav__link> Upgrade </a> </li> <li class=md-nav__item> <a href=../deploy/hardening-guide/ class=md-nav__link> Hardening guide </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-3 type=checkbox id=nav-3> <label class=md-nav__link for=nav-3> User guide <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="User guide" data-md-level=1> <label class=md-nav__title for=nav-3> <span class="md-nav__icon md-icon"></span> User guide </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-3-1 type=checkbox id=nav-3-1> <label class=md-nav__link for=nav-3-1> NGINX Configuration <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="NGINX Configuration" data-md-level=2> <label class=md-nav__title for=nav-3-1> <span class="md-nav__icon md-icon"></span> NGINX Configuration </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../user-guide/nginx-configuration/ class=md-nav__link> Introduction </a> </li> <li class=md-nav__item> <a href=../user-guide/basic-usage/ class=md-nav__link> Basic usage </a> </li> <li class=md-nav__item> <a href=../user-guide/nginx-configuration/annotations/ class=md-nav__link> Annotations </a> </li> <li class=md-nav__item> <a href=../user-guide/nginx-configuration/configmap/ class=md-nav__link> ConfigMap </a> </li> <li class=md-nav__item> <a href=../user-guide/nginx-configuration/custom-template/ class=md-nav__link> Custom NGINX template </a> </li> <li class=md-nav__item> <a href=../user-guide/nginx-configuration/log-format/ class=md-nav__link> Log format </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../user-guide/cli-arguments/ class=md-nav__link> Command line arguments </a> </li> <li class=md-nav__item> <a href=../user-guide/custom-errors/ class=md-nav__link> Custom errors </a> </li> <li class=md-nav__item> <a href=../user-guide/default-backend/ class=md-nav__link> Default backend </a> </li> <li class=md-nav__item> <a href=../user-guide/exposing-tcp-udp-services/ class=md-nav__link> Exposing TCP and UDP services </a> </li> <li class=md-nav__item> <a href=../user-guide/fcgi-services/ class=md-nav__link> Exposing FCGI services </a> </li> <li class=md-nav__item> <a href=../user-guide/ingress-path-matching/ class=md-nav__link> Regular expressions in paths </a> </li> <li class=md-nav__item> <a href=../user-guide/external-articles/ class=md-nav__link> External Articles </a> </li> <li class=md-nav__item> <a href=../user-guide/miscellaneous/ class=md-nav__link> Miscellaneous </a> </li> <li class=md-nav__item> <a href=../user-guide/monitoring/ class=md-nav__link> Prometheus and Grafana installation </a> </li> <li class=md-nav__item> <a href=../user-guide/multiple-ingress/ class=md-nav__link> Multiple Ingress controllers </a> </li> <li class=md-nav__item> <a href=../user-guide/tls/ class=md-nav__link> TLS/HTTPS </a> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-3-13 type=checkbox id=nav-3-13> <label class=md-nav__link for=nav-3-13> Third party addons <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Third party addons" data-md-level=2> <label class=md-nav__title for=nav-3-13> <span class="md-nav__icon md-icon"></span> Third party addons </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../user-guide/third-party-addons/modsecurity/ class=md-nav__link> ModSecurity Web Application Firewall </a> </li> <li class=md-nav__item> <a href=../user-guide/third-party-addons/opentracing/ class=md-nav__link> OpenTracing </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-4 type=checkbox id=nav-4> <label class=md-nav__link for=nav-4> Examples <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Examples data-md-level=1> <label class=md-nav__title for=nav-4> <span class="md-nav__icon md-icon"></span> Examples </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../examples/ class=md-nav__link> Introduction </a> </li> <li class=md-nav__item> <a href=../examples/PREREQUISITES/ class=md-nav__link> Prerequisites </a> </li> <li class=md-nav__item> <a href=../examples/affinity/cookie/ class=md-nav__link> Sticky Sessions </a> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-4-4 type=checkbox id=nav-4-4> <label class=md-nav__link for=nav-4-4> Auth <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Auth data-md-level=2> <label class=md-nav__title for=nav-4-4> <span class="md-nav__icon md-icon"></span> Auth </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../examples/auth/basic/ class=md-nav__link> Basic Authentication </a> </li> <li class=md-nav__item> <a href=../examples/auth/client-certs/ class=md-nav__link> Client Certificate Authentication </a> </li> <li class=md-nav__item> <a href=../examples/auth/external-auth/ class=md-nav__link> External Basic Authentication </a> </li> <li class=md-nav__item> <a href=../examples/auth/oauth-external-auth/ class=md-nav__link> External OAUTH Authentication </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-4-5 type=checkbox id=nav-4-5> <label class=md-nav__link for=nav-4-5> Customization <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Customization data-md-level=2> <label class=md-nav__title for=nav-4-5> <span class="md-nav__icon md-icon"></span> Customization </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../examples/customization/configuration-snippets/ class=md-nav__link> Configuration Snippets </a> </li> <li class=md-nav__item> <a href=../examples/customization/custom-configuration/ class=md-nav__link> Custom Configuration </a> </li> <li class=md-nav__item> <a href=../examples/customization/custom-errors/ class=md-nav__link> Custom Errors </a> </li> <li class=md-nav__item> <a href=../examples/customization/custom-headers/ class=md-nav__link> Custom Headers </a> </li> <li class=md-nav__item> <a href=../examples/customization/external-auth-headers/ class=md-nav__link> External authentication </a> </li> <li class=md-nav__item> <a href=../examples/customization/ssl-dh-param/ class=md-nav__link> Custom DH parameters for perfect forward secrecy </a> </li> <li class=md-nav__item> <a href=../examples/customization/sysctl/ class=md-nav__link> Sysctl tuning </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../examples/docker-registry/ class=md-nav__link> Docker registry </a> </li> <li class=md-nav__item> <a href=../examples/grpc/ class=md-nav__link> gRPC </a> </li> <li class=md-nav__item> <a href=../examples/multi-tls/ class=md-nav__link> Multi TLS certificate termination </a> </li> <li class=md-nav__item> <a href=../examples/rewrite/ class=md-nav__link> Rewrite </a> </li> <li class=md-nav__item> <a href=../examples/static-ip/ class=md-nav__link> Static IPs </a> </li> <li class=md-nav__item> <a href=../examples/tls-termination/ class=md-nav__link> TLS termination </a> </li> <li class=md-nav__item> <a href=../examples/psp/ class=md-nav__link> Pod Security Policy (PSP) </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-5 type=checkbox id=nav-5> <label class=md-nav__link for=nav-5> Developer Guide <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Developer Guide" data-md-level=1> <label class=md-nav__title for=nav-5> <span class="md-nav__icon md-icon"></span> Developer Guide </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../developer-guide/getting-started/ class=md-nav__link> Getting Started </a> </li> <li class=md-nav__item> <a href=../developer-guide/code-overview/ class=md-nav__link> Code Overview </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=#geoip2 class=md-nav__link> Geoip2 </a> </li> <li class=md-nav__item> <a href=#security-global-auth-url class=md-nav__link> [Security] global-auth-url </a> </li> <li class=md-nav__item> <a href=#security-pod-security-policies class=md-nav__link> [Security] Pod Security Policies </a> </li> <li class=md-nav__item> <a href=#log-format- class=md-nav__link> log-format-* </a> </li> <li class=md-nav__item> <a href=#server-tokens class=md-nav__link> server-tokens </a> </li> <li class=md-nav__item> <a href=#proxy-connect-timeout class=md-nav__link> proxy-connect-timeout </a> </li> <li class=md-nav__item> <a href=#ssl-ciphers class=md-nav__link> ssl-ciphers </a> </li> <li class=md-nav__item> <a href=#use-proxy-protocol class=md-nav__link> use-proxy-protocol </a> </li> <li class=md-nav__item> <a href=#plugins class=md-nav__link> plugins </a> </li> <li class=md-nav__item> <a href=#configmap-server-snippet class=md-nav__link> configmap server-snippet </a> </li> <li class=md-nav__item> <a href=#flag-disable-catch-all class=md-nav__link> [Flag] disable-catch-all </a> </li> <li class=md-nav__item> <a href=#enable-real-ip class=md-nav__link> enable-real-ip </a> </li> <li class=md-nav__item> <a href=#keep-alive-keep-alive-requests class=md-nav__link> keep-alive keep-alive-requests </a> </li> <li class=md-nav__item> <a href=#enable-multi-accept class=md-nav__link> enable-multi-accept </a> </li> <li class=md-nav__item> <a href=#flag-watch-namespace-selector class=md-nav__link> [Flag] watch namespace selector </a> </li> <li class=md-nav__item> <a href=#flag-disable-service-external-name class=md-nav__link> [Flag] disable-service-external-name </a> </li> <li class=md-nav__item> <a href=#configure-opentracing class=md-nav__link> Configure OpenTracing </a> </li> <li class=md-nav__item> <a href=#configmap-change class=md-nav__link> Configmap change </a> </li> <li class=md-nav__item> <a href=#configmap-limit-rate class=md-nav__link> Configmap - limit-rate </a> </li> <li class=md-nav__item> <a href=#access-log class=md-nav__link> access-log </a> </li> <li class=md-nav__item> <a href=#global-options class=md-nav__link> global-options </a> </li> <li class=md-nav__item> <a href=#flag-ingress-class class=md-nav__link> [Flag] ingress-class </a> </li> <li class=md-nav__item> <a href=#reuse-port class=md-nav__link> reuse-port </a> </li> <li class=md-nav__item> <a href=#proxy-send-timeout class=md-nav__link> proxy-send-timeout </a> </li> <li class=md-nav__item> <a href=#ssl-flag-default-ssl-certificate class=md-nav__link> [SSL] [Flag] default-ssl-certificate </a> </li> <li class=md-nav__item> <a href=#brotli class=md-nav__link> brotli </a> </li> <li class=md-nav__item> <a href=#security-pod-security-policies-with-volumes class=md-nav__link> [Security] Pod Security Policies with volumes </a> </li> <li class=md-nav__item> <a href=#dynamic-proxy_host class=md-nav__link> Dynamic $proxy_host </a> </li> <li class=md-nav__item> <a href=#security-block- class=md-nav__link> [Security] block-* </a> </li> <li class=md-nav__item> <a href=#settings-global-rate-limit class=md-nav__link> settings-global-rate-limit </a> </li> <li class=md-nav__item> <a href=#add-no-tls-redirect-locations class=md-nav__link> Add no tls redirect locations </a> </li> <li class=md-nav__item> <a href=#main-snippet class=md-nav__link> main-snippet </a> </li> <li class=md-nav__item> <a href=#lua-lua-shared-dicts class=md-nav__link> [Lua] lua-shared-dicts </a> </li> <li class=md-nav__item> <a href=#bad-annotation-values class=md-nav__link> Bad annotation values </a> </li> <li class=md-nav__item> <a href=#ssl-tls-protocols-ciphers-and-headers class=md-nav__link> [SSL] TLS protocols, ciphers and headers) </a> </li> <li class=md-nav__item> <a href=#security-modsecurity-snippet class=md-nav__link> [Security] modsecurity-snippet </a> </li> <li class=md-nav__item> <a href=#ocsp class=md-nav__link> OCSP </a> </li> <li class=md-nav__item> <a href=#configmap-stream-snippet class=md-nav__link> configmap stream-snippet </a> </li> <li class=md-nav__item> <a href=#proxy-read-timeout class=md-nav__link> proxy-read-timeout </a> </li> <li class=md-nav__item> <a href=#proxy-next-upstream class=md-nav__link> proxy-next-upstream </a> </li> <li class=md-nav__item> <a href=#hash-size class=md-nav__link> hash size </a> </li> <li class=md-nav__item> <a href=#security-no-auth-locations class=md-nav__link> [Security] no-auth-locations </a> </li> <li class=md-nav__item> <a href=#flag-custom-http-and-https-ports class=md-nav__link> [Flag] custom HTTP and HTTPS ports </a> </li> <li class=md-nav__item> <a href=#use-forwarded-headers class=md-nav__link> use-forwarded-headers </a> </li> <li class=md-nav__item> <a href=#add-headers class=md-nav__link> add-headers </a> </li> <li class=md-nav__item> <a href=#load-balancer-round-robin class=md-nav__link> [Load Balancer] round-robin </a> </li> <li class=md-nav__item> <a href=#load-balancer-ewma class=md-nav__link> [Load Balancer] EWMA </a> </li> <li class=md-nav__item> <a href=#load-balancer-load-balance class=md-nav__link> [Load Balancer] load-balance </a> </li> <li class=md-nav__item> <a href=#ssl-redirect-to-https class=md-nav__link> [SSL] redirect to HTTPS </a> </li> <li class=md-nav__item> <a href=#ssl-secret-update class=md-nav__link> [SSL] secret update </a> </li> <li class=md-nav__item> <a href=#service-type-externalname class=md-nav__link> [Service] Type ExternalName </a> </li> <li class=md-nav__item> <a href=#service-nil-service-backend class=md-nav__link> [Service] Nil Service Backend </a> </li> <li class=md-nav__item> <a href=#service-backend-status-code-503 class=md-nav__link> [Service] backend status code 503 </a> </li> </ul> </nav> </div> </div> </div> <div class=md-content> <article class="md-content__inner md-typeset"> <a href=https://github.com/kubernetes/ingress-nginx/edit/main/docs/e2e-tests.md title="Edit this page" class="md-content__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg> </a> <!---
This file is autogenerated!
Do not try to edit it manually.
--> <h1 id=e2e-test-suite-for-ingress-nginx-controller>e2e test suite for <a href=https://github.com/kubernetes/ingress-nginx/tree/main/ >Ingress NGINX Controller</a><a class=headerlink href=#e2e-test-suite-for-ingress-nginx-controller title="Permanent link"> ¶</a></h1> <h3 id=geoip2><a href=https://github.com/kubernetes/ingress-nginx/tree/main/test/e2e/settings/geoip2.go#L37>Geoip2</a><a class=headerlink href=#geoip2 title="Permanent link"> ¶</a></h3> <ul> <li><a href=https://github.com/kubernetes/ingress-nginx/tree/main/test/e2e/settings/geoip2.go#L46>should include geoip2 line in config when enabled and db file exists</a></li> <li><a href=https://github.com/kubernetes/ingress-nginx/tree/main/test/e2e/settings/geoip2.go#L70>should only allow requests from specific countries</a></li> </ul> <h3 id=security-global-auth-url><a href=https://github.com/kubernetes/ingress-nginx/tree/main/test/e2e/settings/global_external_auth.go#L34>[Security] global-auth-url</a><a class=headerlink href=#security-global-auth-url title="Permanent link"> ¶</a></h3> <ul> <li><a href=https://github.com/kubernetes/ingress-nginx/tree/main/test/e2e/settings/global_external_auth.go#L85>should return status code 401 when request any protected service</a></li> <li><a href=https://github.com/kubernetes/ingress-nginx/tree/main/test/e2e/settings/global_external_auth.go#L102>should return status code 200 when request whitelisted (via no-auth-locations) service and 401 when request protected service</a></li> <li><a href=https://github.com/kubernetes/ingress-nginx/tree/main/test/e2e/settings/global_external_auth.go#L126>should return status code 200 when request whitelisted (via ingress annotation) service and 401 when request protected service</a></li> <li><a href=https://github.com/kubernetes/ingress-nginx/tree/main/test/e2e/settings/global_external_auth.go#L155>should still return status code 200 after auth backend is deleted using cache</a></li> <li><a href=https://github.com/kubernetes/ingress-nginx/tree/main/test/e2e/settings/global_external_auth.go#L197>should proxy_method method when global-auth-method is configured</a></li> <li><a href=https://github.com/kubernetes/ingress-nginx/tree/main/test/e2e/settings/global_external_auth.go#L210>should add custom error page when global-auth-signin url is configured</a></li> <li><a href=https://github.com/kubernetes/ingress-nginx/tree/main/test/e2e/settings/global_external_auth.go#L223>should add auth headers when global-auth-response-headers is configured</a></li> <li><a href=https://github.com/kubernetes/ingress-nginx/tree/main/test/e2e/settings/global_external_auth.go#L237>should set request-redirect when global-auth-request-redirect is configured</a></li> <li><a href=https://github.com/kubernetes/ingress-nginx/tree/main/test/e2e/settings/global_external_auth.go#L250>should set snippet when global external auth is configured</a></li> <li><a href=https://github.com/kubernetes/ingress-nginx/tree/main/test/e2e/settings/global_external_auth.go#L326>user retains cookie by default</a></li> <li><a href=https://github.com/kubernetes/ingress-nginx/tree/main/test/e2e/settings/global_external_auth.go#L337>user does not retain cookie if upstream returns error status code</a></li> <li><a href=https://github.com/kubernetes/ingress-nginx/tree/main/test/e2e/settings/global_external_auth.go#L348>user with global-auth-always-set-cookie key in configmap retains cookie if upstream returns error status code</a></li> </ul> <h3 id=security-pod-security-policies><a href=https://github.com/kubernetes/ingress-nginx/tree/main/test/e2e/settings/pod_security_policy.go#L40>[Security] Pod Security Policies</a><a class=headerlink href=#security-pod-security-policies title="Permanent link"> ¶</a></h3> <ul> <li><a href=https://github.com/kubernetes/ingress-nginx/tree/main/test/e2e/settings/pod_security_policy.go#L43>should be running with a Pod Security Policy</a></li> </ul> <h3 id=log-format-><a href=https://github.com/kubernetes/ingress-nginx/tree/main/test/e2e/settings/log-format.go#L28>log-format-*</a><a class=headerlink href=#log-format- title="Permanent link"> ¶</a></h3> <ul> <li><a href=https://github.com/kubernetes/ingress-nginx/tree/main/test/e2e/settings/log-format.go#L40>should disable the log-format-escape-json by default</a></li> <li><a href=https://github.com/kubernetes/ingress-nginx/tree/main/test/e2e/settings/log-format.go#L47>should enable the log-format-escape-json</a></li> <li><a href=https://github.com/kubernetes/ingress-nginx/tree/main/test/e2e/settings/log-format.go#L55>should disable the log-format-escape-json</a></li> <li><a href=https://github.com/kubernetes/ingress-nginx/tree/main/test/e2e/settings/log-format.go#L66>log-format-escape-json enabled</a></li> <li><a href=https://github.com/kubernetes/ingress-nginx/tree/main/test/e2e/settings/log-format.go#L89>log-format-escape-json disabled</a></li> </ul> <h3 id=server-tokens><a href=https://github.com/kubernetes/ingress-nginx/tree/main/test/e2e/settings/server_tokens.go#L29>server-tokens</a><a class=headerlink href=#server-tokens title="Permanent link"> ¶</a></h3> <ul> <li><a href=https://github.com/kubernetes/ingress-nginx/tree/main/test/e2e/settings/server_tokens.go#L38>should not exists Server header in the response</a></li> <li><a href=https://github.com/kubernetes/ingress-nginx/tree/main/test/e2e/settings/server_tokens.go#L50>should exists Server header in the response when is enabled</a></li> </ul> <h3 id=proxy-connect-timeout><a href=https://github.com/kubernetes/ingress-nginx/tree/main/test/e2e/settings/proxy_connect_timeout.go#L28>proxy-connect-timeout</a><a class=headerlink href=#proxy-connect-timeout title="Permanent link"> ¶</a></h3> <ul> <li><a href=https://github.com/kubernetes/ingress-nginx/tree/main/test/e2e/settings/proxy_connect_timeout.go#L36>should set valid proxy timeouts using configmap values</a></li> <li><a href=https://github.com/kubernetes/ingress-nginx/tree/main/test/e2e/settings/proxy_connect_timeout.go#L52>should not set invalid proxy timeouts using configmap values</a></li> </ul> <h3 id=ssl-ciphers><a href=https://github.com/kubernetes/ingress-nginx/tree/main/test/e2e/settings/ssl_ciphers.go#L28>ssl-ciphers</a><a class=headerlink href=#ssl-ciphers title="Permanent link"> ¶</a></h3> <ul> <li><a href=https://github.com/kubernetes/ingress-nginx/tree/main/test/e2e/settings/ssl_ciphers.go#L31>Add ssl ciphers</a></li> </ul> <h3 id=use-proxy-protocol><a href=https://github.com/kubernetes/ingress-nginx/tree/main/test/e2e/settings/proxy_protocol.go#L36>use-proxy-protocol</a><a class=headerlink href=#use-proxy-protocol title="Permanent link"> ¶</a></h3> <ul> <li><a href=https://github.com/kubernetes/ingress-nginx/tree/main/test/e2e/settings/proxy_protocol.go#L46>should respect port passed by the PROXY Protocol</a></li> <li><a href=https://github.com/kubernetes/ingress-nginx/tree/main/test/e2e/settings/proxy_protocol.go#L79>should respect proto passed by the PROXY Protocol server port</a></li> <li><a href=https://github.com/kubernetes/ingress-nginx/tree/main/test/e2e/settings/proxy_protocol.go#L112>should enable PROXY Protocol for HTTPS</a></li> <li><a href=https://github.com/kubernetes/ingress-nginx/tree/main/test/e2e/settings/proxy_protocol.go#L155>should enable PROXY Protocol for TCP</a></li> </ul> <h3 id=plugins><a href=https://github.com/kubernetes/ingress-nginx/tree/main/test/e2e/settings/plugins.go#L28>plugins</a><a class=headerlink href=#plugins title="Permanent link"> ¶</a></h3> <ul> <li><a href=https://github.com/kubernetes/ingress-nginx/tree/main/test/e2e/settings/plugins.go#L35>should exist a x-hello-world header</a></li> </ul> <h3 id=configmap-server-snippet><a href=https://github.com/kubernetes/ingress-nginx/tree/main/test/e2e/settings/server_snippet.go#L28>configmap server-snippet</a><a class=headerlink href=#configmap-server-snippet title="Permanent link"> ¶</a></h3> <ul> <li><a href=https://github.com/kubernetes/ingress-nginx/tree/main/test/e2e/settings/server_snippet.go#L35>should add value of server-snippet setting to all ingress config</a></li> <li><a href=https://github.com/kubernetes/ingress-nginx/tree/main/test/e2e/settings/server_snippet.go#L92>should add global server-snippet and drop annotations per admin config</a></li> </ul> <h3 id=flag-disable-catch-all><a href=https://github.com/kubernetes/ingress-nginx/tree/main/test/e2e/settings/disable_catch_all.go#L33>[Flag] disable-catch-all</a><a class=headerlink href=#flag-disable-catch-all title="Permanent link"> ¶</a></h3> <ul> <li><a href=https://github.com/kubernetes/ingress-nginx/tree/main/test/e2e/settings/disable_catch_all.go#L50>should ignore catch all Ingress with backend</a></li> <li><a href=https://github.com/kubernetes/ingress-nginx/tree/main/test/e2e/settings/disable_catch_all.go#L69>should ignore catch all Ingress with backend and rules</a></li> <li><a href=https://github.com/kubernetes/ingress-nginx/tree/main/test/e2e/settings/disable_catch_all.go#L81>should delete Ingress updated to catch-all</a></li> <li><a href=https://github.com/kubernetes/ingress-nginx/tree/main/test/e2e/settings/disable_catch_all.go#L123>should allow Ingress with rules</a></li> </ul> <h3 id=enable-real-ip><a href=https://github.com/kubernetes/ingress-nginx/tree/main/test/e2e/settings/enable_real_ip.go#L30>enable-real-ip</a><a class=headerlink href=#enable-real-ip title="Permanent link"> ¶</a></h3> <ul> <li><a href=https://github.com/kubernetes/ingress-nginx/tree/main/test/e2e/settings/enable_real_ip.go#L40>trusts X-Forwarded-For header only when setting is true</a></li> <li><a href=https://github.com/kubernetes/ingress-nginx/tree/main/test/e2e/settings/enable_real_ip.go#L78>should not trust X-Forwarded-For header when setting is false</a></li> </ul> <h3 id=keep-alive-keep-alive-requests><a href=https://github.com/kubernetes/ingress-nginx/tree/main/test/e2e/settings/keep-alive.go#L28>keep-alive keep-alive-requests</a><a class=headerlink href=#keep-alive-keep-alive-requests title="Permanent link"> ¶</a></h3> <ul> <li><a href=https://github.com/kubernetes/ingress-nginx/tree/main/test/e2e/settings/keep-alive.go#L40>should set keepalive_timeout</a></li> <li><a href=https://github.com/kubernetes/ingress-nginx/tree/main/test/e2e/settings/keep-alive.go#L48>should set keepalive_requests</a></li> <li><a href=https://github.com/kubernetes/ingress-nginx/tree/main/test/e2e/settings/keep-alive.go#L59>should set keepalive connection to upstream server</a></li> <li><a href=https://github.com/kubernetes/ingress-nginx/tree/main/test/e2e/settings/keep-alive.go#L68>should set keep alive connection timeout to upstream server</a></li> <li><a href=https://github.com/kubernetes/ingress-nginx/tree/main/test/e2e/settings/keep-alive.go#L77>should set the request count to upstream server through one keep alive connection</a></li> </ul> <h3 id=enable-multi-accept><a href=https://github.com/kubernetes/ingress-nginx/tree/main/test/e2e/settings/multi_accept.go#L27>enable-multi-accept</a><a class=headerlink href=#enable-multi-accept title="Permanent link"> ¶</a></h3> <ul> <li><a href=https://github.com/kubernetes/ingress-nginx/tree/main/test/e2e/settings/multi_accept.go#L31>should be enabled by default</a></li> <li><a href=https://github.com/kubernetes/ingress-nginx/tree/main/test/e2e/settings/multi_accept.go#L39>should be enabled when set to true</a></li> <li><a href=https://github.com/kubernetes/ingress-nginx/tree/main/test/e2e/settings/multi_accept.go#L49>should be disabled when set to false</a></li> </ul> <h3 id=flag-watch-namespace-selector><a href=https://github.com/kubernetes/ingress-nginx/tree/main/test/e2e/settings/namespace_selector.go#L30>[Flag] watch namespace selector</a><a class=headerlink href=#flag-watch-namespace-selector title="Permanent link"> ¶</a></h3> <ul> <li><a href=https://github.com/kubernetes/ingress-nginx/tree/main/test/e2e/settings/namespace_selector.go#L70>should ingore Ingress of namespace without label foo=bar and accept those of namespace with label foo=bar</a></li> </ul> <h3 id=flag-disable-service-external-name><a href=https://github.com/kubernetes/ingress-nginx/tree/main/test/e2e/settings/disable_service_external_name.go#L34>[Flag] disable-service-external-name</a><a class=headerlink href=#flag-disable-service-external-name title="Permanent link"> ¶</a></h3> <ul> <li><a href=https://github.com/kubernetes/ingress-nginx/tree/main/test/e2e/settings/disable_service_external_name.go#L51>should ignore services of external-name type</a></li> </ul> <h3 id=configure-opentracing><a href=https://github.com/kubernetes/ingress-nginx/tree/main/test/e2e/settings/opentracing.go#L48>Configure OpenTracing</a><a class=headerlink href=#configure-opentracing title="Permanent link"> ¶</a></h3> <ul> <li><a href=https://github.com/kubernetes/ingress-nginx/tree/main/test/e2e/settings/opentracing.go#L58>should not exists opentracing directive</a></li> <li><a href=https://github.com/kubernetes/ingress-nginx/tree/main/test/e2e/settings/opentracing.go#L71>should exists opentracing directive when is enabled</a></li> <li><a href=https://github.com/kubernetes/ingress-nginx/tree/main/test/e2e/settings/opentracing.go#L85>should include opentracing_trust_incoming_span off directive when disabled</a></li> <li><a href=https://github.com/kubernetes/ingress-nginx/tree/main/test/e2e/settings/opentracing.go#L100>should not exists opentracing_operation_name directive when is empty</a></li> <li><a href=https://github.com/kubernetes/ingress-nginx/tree/main/test/e2e/settings/opentracing.go#L115>should exists opentracing_operation_name directive when is configured</a></li> <li><a href=https://github.com/kubernetes/ingress-nginx/tree/main/test/e2e/settings/opentracing.go#L130>should not exists opentracing_location_operation_name directive when is empty</a></li> <li><a href=https://github.com/kubernetes/ingress-nginx/tree/main/test/e2e/settings/opentracing.go#L145>should exists opentracing_location_operation_name directive when is configured</a></li> <li><a href=https://github.com/kubernetes/ingress-nginx/tree/main/test/e2e/settings/opentracing.go#L160>should enable opentracing using zipkin</a></li> <li><a href=https://github.com/kubernetes/ingress-nginx/tree/main/test/e2e/settings/opentracing.go#L172>should enable opentracing using jaeger</a></li> <li><a href=https://github.com/kubernetes/ingress-nginx/tree/main/test/e2e/settings/opentracing.go#L184>should enable opentracing using jaeger with sampler host</a></li> <li><a href=https://github.com/kubernetes/ingress-nginx/tree/main/test/e2e/settings/opentracing.go#L197>should propagate the w3c header when configured with jaeger</a></li> <li><a href=https://github.com/kubernetes/ingress-nginx/tree/main/test/e2e/settings/opentracing.go#L228>should enable opentracing using jaeger with an HTTP endpoint</a></li> <li><a href=https://github.com/kubernetes/ingress-nginx/tree/main/test/e2e/settings/opentracing.go#L241>should enable opentracing using datadog</a></li> </ul> <h3 id=configmap-change><a href=https://github.com/kubernetes/ingress-nginx/tree/main/test/e2e/settings/configmap_change.go#L29>Configmap change</a><a class=headerlink href=#configmap-change title="Permanent link"> ¶</a></h3> <ul> <li><a href=https://github.com/kubernetes/ingress-nginx/tree/main/test/e2e/settings/configmap_change.go#L36>should reload after an update in the configuration</a></li> </ul> <h3 id=configmap-limit-rate><a href=https://github.com/kubernetes/ingress-nginx/tree/main/test/e2e/settings/limit_rate.go#L28>Configmap - limit-rate</a><a class=headerlink href=#configmap-limit-rate title="Permanent link"> ¶</a></h3> <ul> <li><a href=https://github.com/kubernetes/ingress-nginx/tree/main/test/e2e/settings/limit_rate.go#L36>Check limit-rate config</a></li> </ul> <h3 id=access-log><a href=https://github.com/kubernetes/ingress-nginx/tree/main/test/e2e/settings/access_log.go#L26>access-log</a><a class=headerlink href=#access-log title="Permanent link"> ¶</a></h3> <ul> <li><a href=https://github.com/kubernetes/ingress-nginx/tree/main/test/e2e/settings/access_log.go#L31>use the default configuration</a></li> <li><a href=https://github.com/kubernetes/ingress-nginx/tree/main/test/e2e/settings/access_log.go#L41>use the specified configuration</a></li> <li><a href=https://github.com/kubernetes/ingress-nginx/tree/main/test/e2e/settings/access_log.go#L53>use the specified configuration</a></li> <li><a href=https://github.com/kubernetes/ingress-nginx/tree/main/test/e2e/settings/access_log.go#L66>use the specified configuration</a></li> <li><a href=https://github.com/kubernetes/ingress-nginx/tree/main/test/e2e/settings/access_log.go#L79>use the specified configuration</a></li> </ul> <h3 id=global-options><a href=https://github.com/kubernetes/ingress-nginx/tree/main/test/e2e/settings/global_options.go#L28>global-options</a><a class=headerlink href=#global-options title="Permanent link"> ¶</a></h3> <ul> <li><a href=https://github.com/kubernetes/ingress-nginx/tree/main/test/e2e/settings/global_options.go#L31>should have worker_rlimit_nofile option</a></li> <li><a href=https://github.com/kubernetes/ingress-nginx/tree/main/test/e2e/settings/global_options.go#L38>should have worker_rlimit_nofile option and be independent on amount of worker processes</a></li> </ul> <h3 id=flag-ingress-class><a href=https://github.com/kubernetes/ingress-nginx/tree/main/test/e2e/settings/ingress_class.go#L39>[Flag] ingress-class</a><a class=headerlink href=#flag-ingress-class title="Permanent link"> ¶</a></h3> <ul> <li><a href=https://github.com/kubernetes/ingress-nginx/tree/main/test/e2e/settings/ingress_class.go#L68>should ignore Ingress with a different class annotation</a></li> <li><a href=https://github.com/kubernetes/ingress-nginx/tree/main/test/e2e/settings/ingress_class.go#L104>should ignore Ingress with different controller class</a></li> <li><a href=https://github.com/kubernetes/ingress-nginx/tree/main/test/e2e/settings/ingress_class.go#L132>should accept both Ingresses with default IngressClassName and IngressClass annotation</a></li> <li><a href=https://github.com/kubernetes/ingress-nginx/tree/main/test/e2e/settings/ingress_class.go#L164>should ignore Ingress without IngressClass configuration</a></li> <li><a href=https://github.com/kubernetes/ingress-nginx/tree/main/test/e2e/settings/ingress_class.go#L192>should delete Ingress when class is removed</a></li> <li><a href=https://github.com/kubernetes/ingress-nginx/tree/main/test/e2e/settings/ingress_class.go#L257>should serve Ingress when class is added</a></li> <li><a href=https://github.com/kubernetes/ingress-nginx/tree/main/test/e2e/settings/ingress_class.go#L323>should serve Ingress when class is updated between annotation and ingressClassName</a></li> <li><a href=https://github.com/kubernetes/ingress-nginx/tree/main/test/e2e/settings/ingress_class.go#L413>should ignore Ingress with no class and accept the correctly configured Ingresses</a></li> <li><a href=https://github.com/kubernetes/ingress-nginx/tree/main/test/e2e/settings/ingress_class.go#L482>should watch Ingress with no class and ignore ingress with a different class</a></li> <li><a href=https://github.com/kubernetes/ingress-nginx/tree/main/test/e2e/settings/ingress_class.go#L539>should watch Ingress that uses the class name even if spec is different</a></li> <li><a href=https://github.com/kubernetes/ingress-nginx/tree/main/test/e2e/settings/ingress_class.go#L631>should watch Ingress with correct annotation</a></li> <li><a href=https://github.com/kubernetes/ingress-nginx/tree/main/test/e2e/settings/ingress_class.go#L652>should ignore Ingress with only IngressClassName</a></li> </ul> <h3 id=reuse-port><a href=https://github.com/kubernetes/ingress-nginx/tree/main/test/e2e/settings/reuse-port.go#L27>reuse-port</a><a class=headerlink href=#reuse-port title="Permanent link"> ¶</a></h3> <ul> <li><a href=https://github.com/kubernetes/ingress-nginx/tree/main/test/e2e/settings/reuse-port.go#L38>reuse port should be enabled by default</a></li> <li><a href=https://github.com/kubernetes/ingress-nginx/tree/main/test/e2e/settings/reuse-port.go#L44>reuse port should be disabled</a></li> <li><a href=https://github.com/kubernetes/ingress-nginx/tree/main/test/e2e/settings/reuse-port.go#L52>reuse port should be enabled</a></li> </ul> <h3 id=proxy-send-timeout><a href=https://github.com/kubernetes/ingress-nginx/tree/main/test/e2e/settings/proxy_send_timeout.go#L28>proxy-send-timeout</a><a class=headerlink href=#proxy-send-timeout title="Permanent link"> ¶</a></h3> <ul> <li><a href=https://github.com/kubernetes/ingress-nginx/tree/main/test/e2e/settings/proxy_send_timeout.go#L36>should set valid proxy send timeouts using configmap values</a></li> <li><a href=https://github.com/kubernetes/ingress-nginx/tree/main/test/e2e/settings/proxy_send_timeout.go#L52>should not set invalid proxy send timeouts using configmap values</a></li> </ul> <h3 id=ssl-flag-default-ssl-certificate><a href=https://github.com/kubernetes/ingress-nginx/tree/main/test/e2e/settings/default_ssl_certificate.go#L33>[SSL] [Flag] default-ssl-certificate</a><a class=headerlink href=#ssl-flag-default-ssl-certificate title="Permanent link"> ¶</a></h3> <ul> <li><a href=https://github.com/kubernetes/ingress-nginx/tree/main/test/e2e/settings/default_ssl_certificate.go#L64>uses default ssl certificate for catch-all ingress</a></li> <li><a href=https://github.com/kubernetes/ingress-nginx/tree/main/test/e2e/settings/default_ssl_certificate.go#L80>uses default ssl certificate for host based ingress when configured certificate does not match host</a></li> </ul> <h3 id=brotli><a href=https://github.com/kubernetes/ingress-nginx/tree/main/test/e2e/settings/brotli.go#L30>brotli</a><a class=headerlink href=#brotli title="Permanent link"> ¶</a></h3> <ul> <li><a href=https://github.com/kubernetes/ingress-nginx/tree/main/test/e2e/settings/brotli.go#L39> condition</a></li> </ul> <h3 id=security-pod-security-policies-with-volumes><a href=https://github.com/kubernetes/ingress-nginx/tree/main/test/e2e/settings/pod_security_policy_volumes.go#L36>[Security] Pod Security Policies with volumes</a><a class=headerlink href=#security-pod-security-policies-with-volumes title="Permanent link"> ¶</a></h3> <ul> <li><a href=https://github.com/kubernetes/ingress-nginx/tree/main/test/e2e/settings/pod_security_policy_volumes.go#L39>should be running with a Pod Security Policy</a></li> </ul> <h3 id=dynamic-proxy_host><a href=https://github.com/kubernetes/ingress-nginx/tree/main/test/e2e/settings/proxy_host.go#L28>Dynamic $proxy_host</a><a class=headerlink href=#dynamic-proxy_host title="Permanent link"> ¶</a></h3> <ul> <li><a href=https://github.com/kubernetes/ingress-nginx/tree/main/test/e2e/settings/proxy_host.go#L36>should exist a proxy_host</a></li> <li><a href=https://github.com/kubernetes/ingress-nginx/tree/main/test/e2e/settings/proxy_host.go#L57>should exist a proxy_host using the upstream-vhost annotation value</a></li> </ul> <h3 id=security-block-><a href=https://github.com/kubernetes/ingress-nginx/tree/main/test/e2e/settings/global_access_block.go#L28>[Security] block-*</a><a class=headerlink href=#security-block- title="Permanent link"> ¶</a></h3> <ul> <li><a href=https://github.com/kubernetes/ingress-nginx/tree/main/test/e2e/settings/global_access_block.go#L38>should block CIDRs defined in the ConfigMap</a></li> <li><a href=https://github.com/kubernetes/ingress-nginx/tree/main/test/e2e/settings/global_access_block.go#L55>should block User-Agents defined in the ConfigMap</a></li> <li><a href=https://github.com/kubernetes/ingress-nginx/tree/main/test/e2e/settings/global_access_block.go#L88>should block Referers defined in the ConfigMap</a></li> </ul> <h3 id=settings-global-rate-limit><a href=https://github.com/kubernetes/ingress-nginx/tree/main/test/e2e/settings/globalratelimit.go#L30>settings-global-rate-limit</a><a class=headerlink href=#settings-global-rate-limit title="Permanent link"> ¶</a></h3> <ul> <li><a href=https://github.com/kubernetes/ingress-nginx/tree/main/test/e2e/settings/globalratelimit.go#L38>generates correct NGINX configuration</a></li> </ul> <h3 id=add-no-tls-redirect-locations><a href=https://github.com/kubernetes/ingress-nginx/tree/main/test/e2e/settings/no_tls_redirect_locations.go#L28>Add no tls redirect locations</a><a class=headerlink href=#add-no-tls-redirect-locations title="Permanent link"> ¶</a></h3> <ul> <li><a href=https://github.com/kubernetes/ingress-nginx/tree/main/test/e2e/settings/no_tls_redirect_locations.go#L31>Check no tls redirect locations config</a></li> </ul> <h3 id=main-snippet><a href=https://github.com/kubernetes/ingress-nginx/tree/main/test/e2e/settings/main_snippet.go#L27>main-snippet</a><a class=headerlink href=#main-snippet title="Permanent link"> ¶</a></h3> <ul> <li><a href=https://github.com/kubernetes/ingress-nginx/tree/main/test/e2e/settings/main_snippet.go#L31>should add value of main-snippet setting to nginx config</a></li> </ul> <h3 id=lua-lua-shared-dicts><a href=https://github.com/kubernetes/ingress-nginx/tree/main/test/e2e/settings/lua_shared_dicts.go#L26>[Lua] lua-shared-dicts</a><a class=headerlink href=#lua-lua-shared-dicts title="Permanent link"> ¶</a></h3> <ul> <li><a href=https://github.com/kubernetes/ingress-nginx/tree/main/test/e2e/settings/lua_shared_dicts.go#L29>configures lua shared dicts</a></li> </ul> <h3 id=bad-annotation-values><a href=https://github.com/kubernetes/ingress-nginx/tree/main/test/e2e/settings/badannotationvalues.go#L29>Bad annotation values</a><a class=headerlink href=#bad-annotation-values title="Permanent link"> ¶</a></h3> <ul> <li><a href=https://github.com/kubernetes/ingress-nginx/tree/main/test/e2e/settings/badannotationvalues.go#L36>[BAD_ANNOTATIONS] should drop an ingress if there is an invalid character in some annotation</a></li> <li><a href=https://github.com/kubernetes/ingress-nginx/tree/main/test/e2e/settings/badannotationvalues.go#L67>[BAD_ANNOTATIONS] should drop an ingress if there is a forbidden word in some annotation</a></li> <li><a href=https://github.com/kubernetes/ingress-nginx/tree/main/test/e2e/settings/badannotationvalues.go#L102>[BAD_ANNOTATIONS] should allow an ingress if there is a default blocklist config in place</a></li> <li><a href=https://github.com/kubernetes/ingress-nginx/tree/main/test/e2e/settings/badannotationvalues.go#L133>[BAD_ANNOTATIONS] should drop an ingress if there is a custom blocklist config in place and allow others to pass</a></li> </ul> <h3 id=ssl-tls-protocols-ciphers-and-headers><a href=https://github.com/kubernetes/ingress-nginx/tree/main/test/e2e/settings/tls.go#L31>[SSL] TLS protocols, ciphers and headers)</a><a class=headerlink href=#ssl-tls-protocols-ciphers-and-headers title="Permanent link"> ¶</a></h3> <ul> <li><a href=https://github.com/kubernetes/ingress-nginx/tree/main/test/e2e/settings/tls.go#L65>setting cipher suite</a></li> <li><a href=https://github.com/kubernetes/ingress-nginx/tree/main/test/e2e/settings/tls.go#L87>enforcing TLS v1.0</a></li> <li><a href=https://github.com/kubernetes/ingress-nginx/tree/main/test/e2e/settings/tls.go#L133>setting max-age parameter</a></li> <li><a href=https://github.com/kubernetes/ingress-nginx/tree/main/test/e2e/settings/tls.go#L149>setting includeSubDomains parameter</a></li> <li><a href=https://github.com/kubernetes/ingress-nginx/tree/main/test/e2e/settings/tls.go#L168>setting preload parameter</a></li> <li><a href=https://github.com/kubernetes/ingress-nginx/tree/main/test/e2e/settings/tls.go#L188>overriding what's set from the upstream</a></li> <li><a href=https://github.com/kubernetes/ingress-nginx/tree/main/test/e2e/settings/tls.go#L209>should not use ports during the HTTP to HTTPS redirection</a></li> <li><a href=https://github.com/kubernetes/ingress-nginx/tree/main/test/e2e/settings/tls.go#L227>should not use ports or X-Forwarded-Host during the HTTP to HTTPS redirection</a></li> </ul> <h3 id=security-modsecurity-snippet><a href=https://github.com/kubernetes/ingress-nginx/tree/main/test/e2e/settings/modsecurity/modsecurity_snippet.go#L27>[Security] modsecurity-snippet</a><a class=headerlink href=#security-modsecurity-snippet title="Permanent link"> ¶</a></h3> <ul> <li><a href=https://github.com/kubernetes/ingress-nginx/tree/main/test/e2e/settings/modsecurity/modsecurity_snippet.go#L30>should add value of modsecurity-snippet setting to nginx config</a></li> </ul> <h3 id=ocsp><a href=https://github.com/kubernetes/ingress-nginx/tree/main/test/e2e/settings/ocsp/ocsp.go#L42>OCSP</a><a class=headerlink href=#ocsp title="Permanent link"> ¶</a></h3> <ul> <li><a href=https://github.com/kubernetes/ingress-nginx/tree/main/test/e2e/settings/ocsp/ocsp.go#L49>should enable OCSP and contain stapling information in the connection</a></li> </ul> <h3 id=configmap-stream-snippet><a href=https://github.com/kubernetes/ingress-nginx/tree/main/test/e2e/settings/stream_snippet.go#L34>configmap stream-snippet</a><a class=headerlink href=#configmap-stream-snippet title="Permanent link"> ¶</a></h3> <ul> <li><a href=https://github.com/kubernetes/ingress-nginx/tree/main/test/e2e/settings/stream_snippet.go#L41>should add value of stream-snippet via config map to nginx config</a></li> </ul> <h3 id=proxy-read-timeout><a href=https://github.com/kubernetes/ingress-nginx/tree/main/test/e2e/settings/proxy_read_timeout.go#L28>proxy-read-timeout</a><a class=headerlink href=#proxy-read-timeout title="Permanent link"> ¶</a></h3> <ul> <li><a href=https://github.com/kubernetes/ingress-nginx/tree/main/test/e2e/settings/proxy_read_timeout.go#L36>should set valid proxy read timeouts using configmap values</a></li> <li><a href=https://github.com/kubernetes/ingress-nginx/tree/main/test/e2e/settings/proxy_read_timeout.go#L52>should not set invalid proxy read timeouts using configmap values</a></li> </ul> <h3 id=proxy-next-upstream><a href=https://github.com/kubernetes/ingress-nginx/tree/main/test/e2e/settings/proxy_next_upstream.go#L28>proxy-next-upstream</a><a class=headerlink href=#proxy-next-upstream title="Permanent link"> ¶</a></h3> <ul> <li><a href=https://github.com/kubernetes/ingress-nginx/tree/main/test/e2e/settings/proxy_next_upstream.go#L36>should build proxy next upstream using configmap values</a></li> </ul> <h3 id=hash-size><a href=https://github.com/kubernetes/ingress-nginx/tree/main/test/e2e/settings/hash-size.go#L27>hash size</a><a class=headerlink href=#hash-size title="Permanent link"> ¶</a></h3> <ul> <li><a href=https://github.com/kubernetes/ingress-nginx/tree/main/test/e2e/settings/hash-size.go#L40>should set server_names_hash_bucket_size</a></li> <li><a href=https://github.com/kubernetes/ingress-nginx/tree/main/test/e2e/settings/hash-size.go#L48>should set server_names_hash_max_size</a></li> <li><a href=https://github.com/kubernetes/ingress-nginx/tree/main/test/e2e/settings/hash-size.go#L60>should set proxy-headers-hash-bucket-size</a></li> <li><a href=https://github.com/kubernetes/ingress-nginx/tree/main/test/e2e/settings/hash-size.go#L68>should set proxy-headers-hash-max-size</a></li> <li><a href=https://github.com/kubernetes/ingress-nginx/tree/main/test/e2e/settings/hash-size.go#L80>should set variables-hash-bucket-size</a></li> <li><a href=https://github.com/kubernetes/ingress-nginx/tree/main/test/e2e/settings/hash-size.go#L88>should set variables-hash-max-size</a></li> <li><a href=https://github.com/kubernetes/ingress-nginx/tree/main/test/e2e/settings/hash-size.go#L100>should set vmap-hash-bucket-size</a></li> </ul> <h3 id=security-no-auth-locations><a href=https://github.com/kubernetes/ingress-nginx/tree/main/test/e2e/settings/no_auth_locations.go#L33>[Security] no-auth-locations</a><a class=headerlink href=#security-no-auth-locations title="Permanent link"> ¶</a></h3> <ul> <li><a href=https://github.com/kubernetes/ingress-nginx/tree/main/test/e2e/settings/no_auth_locations.go#L54>should return status code 401 when accessing '/' unauthentication</a></li> <li><a href=https://github.com/kubernetes/ingress-nginx/tree/main/test/e2e/settings/no_auth_locations.go#L68>should return status code 200 when accessing '/' authentication</a></li> <li><a href=https://github.com/kubernetes/ingress-nginx/tree/main/test/e2e/settings/no_auth_locations.go#L82>should return status code 200 when accessing '/noauth' unauthenticated</a></li> </ul> <h3 id=flag-custom-http-and-https-ports><a href=https://github.com/kubernetes/ingress-nginx/tree/main/test/e2e/settings/listen_nondefault_ports.go#L32>[Flag] custom HTTP and HTTPS ports</a><a class=headerlink href=#flag-custom-http-and-https-ports title="Permanent link"> ¶</a></h3> <ul> <li><a href=https://github.com/kubernetes/ingress-nginx/tree/main/test/e2e/settings/listen_nondefault_ports.go#L48>should set X-Forwarded-Port headers accordingly when listening on a non-default HTTP port</a></li> <li><a href=https://github.com/kubernetes/ingress-nginx/tree/main/test/e2e/settings/listen_nondefault_ports.go#L70>should set X-Forwarded-Port header to 443</a></li> <li><a href=https://github.com/kubernetes/ingress-nginx/tree/main/test/e2e/settings/listen_nondefault_ports.go#L100>should set the X-Forwarded-Port header to 443</a></li> </ul> <h3 id=use-forwarded-headers><a href=https://github.com/kubernetes/ingress-nginx/tree/main/test/e2e/settings/forwarded_headers.go#L30>use-forwarded-headers</a><a class=headerlink href=#use-forwarded-headers title="Permanent link"> ¶</a></h3> <ul> <li><a href=https://github.com/kubernetes/ingress-nginx/tree/main/test/e2e/settings/forwarded_headers.go#L40>should trust X-Forwarded headers when setting is true</a></li> <li><a href=https://github.com/kubernetes/ingress-nginx/tree/main/test/e2e/settings/forwarded_headers.go#L92>should not trust X-Forwarded headers when setting is false</a></li> </ul> <h3 id=add-headers><a href=https://github.com/kubernetes/ingress-nginx/tree/main/test/e2e/settings/custom_header.go#L30>add-headers</a><a class=headerlink href=#add-headers title="Permanent link"> ¶</a></h3> <ul> <li><a href=https://github.com/kubernetes/ingress-nginx/tree/main/test/e2e/settings/custom_header.go#L40>Add a custom header</a></li> <li><a href=https://github.com/kubernetes/ingress-nginx/tree/main/test/e2e/settings/custom_header.go#L65>Add multiple custom headers</a></li> </ul> <h3 id=load-balancer-round-robin><a href=https://github.com/kubernetes/ingress-nginx/tree/main/test/e2e/loadbalance/round_robin.go#L31>[Load Balancer] round-robin</a><a class=headerlink href=#load-balancer-round-robin title="Permanent link"> ¶</a></h3> <ul> <li><a href=https://github.com/kubernetes/ingress-nginx/tree/main/test/e2e/loadbalance/round_robin.go#L39>should evenly distribute requests with round-robin (default algorithm)</a></li> </ul> <h3 id=load-balancer-ewma><a href=https://github.com/kubernetes/ingress-nginx/tree/main/test/e2e/loadbalance/ewma.go#L31>[Load Balancer] EWMA</a><a class=headerlink href=#load-balancer-ewma title="Permanent link"> ¶</a></h3> <ul> <li><a href=https://github.com/kubernetes/ingress-nginx/tree/main/test/e2e/loadbalance/ewma.go#L42>does not fail requests</a></li> </ul> <h3 id=load-balancer-load-balance><a href=https://github.com/kubernetes/ingress-nginx/tree/main/test/e2e/loadbalance/configmap.go#L28>[Load Balancer] load-balance</a><a class=headerlink href=#load-balancer-load-balance title="Permanent link"> ¶</a></h3> <ul> <li><a href=https://github.com/kubernetes/ingress-nginx/tree/main/test/e2e/loadbalance/configmap.go#L35>should apply the configmap load-balance setting</a></li> </ul> <h3 id=ssl-redirect-to-https><a href=https://github.com/kubernetes/ingress-nginx/tree/main/test/e2e/ssl/http_redirect.go#L29>[SSL] redirect to HTTPS</a><a class=headerlink href=#ssl-redirect-to-https title="Permanent link"> ¶</a></h3> <ul> <li><a href=https://github.com/kubernetes/ingress-nginx/tree/main/test/e2e/ssl/http_redirect.go#L36>should redirect from HTTP to HTTPS when secret is missing</a></li> </ul> <h3 id=ssl-secret-update><a href=https://github.com/kubernetes/ingress-nginx/tree/main/test/e2e/ssl/secret_update.go#L33>[SSL] secret update</a><a class=headerlink href=#ssl-secret-update title="Permanent link"> ¶</a></h3> <ul> <li><a href=https://github.com/kubernetes/ingress-nginx/tree/main/test/e2e/ssl/secret_update.go#L40>should not appear references to secret updates not used in ingress rules</a></li> <li><a href=https://github.com/kubernetes/ingress-nginx/tree/main/test/e2e/ssl/secret_update.go#L82>should return the fake SSL certificate if the secret is invalid</a></li> </ul> <h3 id=service-type-externalname><a href=https://github.com/kubernetes/ingress-nginx/tree/main/test/e2e/servicebackend/service_externalname.go#L58>[Service] Type ExternalName</a><a class=headerlink href=#service-type-externalname title="Permanent link"> ¶</a></h3> <ul> <li><a href=https://github.com/kubernetes/ingress-nginx/tree/main/test/e2e/servicebackend/service_externalname.go#L61>works with external name set to incomplete fqdn</a></li> <li><a href=https://github.com/kubernetes/ingress-nginx/tree/main/test/e2e/servicebackend/service_externalname.go#L94>should return 200 for service type=ExternalName without a port defined</a></li> <li><a href=https://github.com/kubernetes/ingress-nginx/tree/main/test/e2e/servicebackend/service_externalname.go#L128>should return 200 for service type=ExternalName with a port defined</a></li> <li><a href=https://github.com/kubernetes/ingress-nginx/tree/main/test/e2e/servicebackend/service_externalname.go#L152>should return status 502 for service type=ExternalName with an invalid host</a></li> <li><a href=https://github.com/kubernetes/ingress-nginx/tree/main/test/e2e/servicebackend/service_externalname.go#L183>should return 200 for service type=ExternalName using a port name</a></li> <li><a href=https://github.com/kubernetes/ingress-nginx/tree/main/test/e2e/servicebackend/service_externalname.go#L216>should return 200 for service type=ExternalName using FQDN with trailing dot</a></li> <li><a href=https://github.com/kubernetes/ingress-nginx/tree/main/test/e2e/servicebackend/service_externalname.go#L247>should update the external name after a service update</a></li> <li><a href=https://github.com/kubernetes/ingress-nginx/tree/main/test/e2e/servicebackend/service_externalname.go#L310>should sync ingress on external name service addition/deletion</a></li> </ul> <h3 id=service-nil-service-backend><a href=https://github.com/kubernetes/ingress-nginx/tree/main/test/e2e/servicebackend/service_nil_backend.go#L31>[Service] Nil Service Backend</a><a class=headerlink href=#service-nil-service-backend title="Permanent link"> ¶</a></h3> <ul> <li><a href=https://github.com/kubernetes/ingress-nginx/tree/main/test/e2e/servicebackend/service_nil_backend.go#L38>should return 404 when backend service is nil</a></li> </ul> <h3 id=service-backend-status-code-503><a href=https://github.com/kubernetes/ingress-nginx/tree/main/test/e2e/servicebackend/service_backend.go#L33>[Service] backend status code 503</a><a class=headerlink href=#service-backend-status-code-503 title="Permanent link"> ¶</a></h3> <ul> <li><a href=https://github.com/kubernetes/ingress-nginx/tree/main/test/e2e/servicebackend/service_backend.go#L36>should return 503 when backend service does not exist</a></li> <li><a href=https://github.com/kubernetes/ingress-nginx/tree/main/test/e2e/servicebackend/service_backend.go#L54>should return 503 when all backend service endpoints are unavailable</a></li> </ul> </article> </div> </div> </main> <footer class=md-footer> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-footer-copyright> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> </div> </div> </footer> </div> <script src=../assets/javascripts/vendor.93c04032.min.js></script> <script src=../assets/javascripts/bundle.83e5331e.min.js></script><script id=__lang type=application/json>{"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing"}</script> <script>
        app = initialize({
          base: "..",
          features: ['navigation.tabs', 'navigation.tabs.sticky', 'navigation.instant', 'navigation.sections'],
          search: Object.assign({
            worker: "../assets/javascripts/worker/search.8c7e0a7e.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script> </body> </html>